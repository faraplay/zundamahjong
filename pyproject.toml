[project]
name = "zundamahjong"
dynamic = ["version"]
description = "Web-based Mahjong game"
readme = "README.md"
requires-python = ">=3.9"

dependencies = [
  "flask",
  "pydantic",
  "python-socketio",
  "sqlalchemy",
]

[project.optional-dependencies]
postgresql = [
  "sqlalchemy[postgresql-psycopgbinary]"
]

[project.urls]
"Source Code" = "https://github.com/faraplay/zundamahjong"

[build-system]
requires = ["setuptools", "setuptools-scm"]
build-backend = "setuptools.build_meta"

[tool.setuptools.package-dir]
zundamahjong = "src"

[tool.setuptools_scm]


# Dev dependencies

[dependency-groups]
dev = [
  {include-group = "lint"},
  {include-group = "test"},
]

lint = [
  "mypy",
  "ruff",
]

test = [
  "pytest",
]

production = [
  {include-group = "postgresql"},
  "gunicorn",
]

postgresql = [
  "psycopg[binary]",
]


# Other tool configs

[[tool.mypy.overrides]]
module = ["socketio.*"]
ignore_missing_imports = true

[tool.pyright]
typeCheckingMode = "standard"
